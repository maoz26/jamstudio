<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Studio</title>
	<link rel="icon" type="image/png" href="http://localhost:3000/static/includes/images/favicon.png">
	<link rel="stylesheet" type="text/css" href="http://localhost:3000/static/includes/style/dashboard.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<link rel="stylesheet" href="http://localhost:3000/static/includes/style/jquery-ui.min.css">
	<script src="http://localhost:3000/static/includes/scripts/jquery-ui.min.js"></script>
	<script src="http://localhost:3000/static/includes/scripts/controllerAPI.js"></script>
	<script src="http://localhost:3000/static/includes/scripts/studioUI.js"></script>
	<script src="http://localhost:3000/static/includes/scripts/slider-widjet.js"></script>
	
	<!-- -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Bootstrap 101 Template</title>
    <!-- Bootstrap -->
    <link href="http://localhost:3000/static/includes/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
	<!--  -->

</head>
<body class="dashboard noselect">
	<header>
		<ul>
			<li id="logo">J</li>
			<li id="connected_user">
				<div class="user_img" style="background-image: url()"></div>
				<div class="username"><span>israel.israeli@gmail.com</span> <span>&#x25BC;</span></div>
				<section id="connected_user_menu">
					<ul>
						<li id="logout">Logout</li>
					</ul>
				</section>
			</li>
			<li id="search-line">
				<div>
                    <div class="input-group col-md-12">
                        <input type="text" class="  search-query form-control" placeholder="Search" />
                        <span class="input-group-btn">
                            <button class="btn" type="button">
                                <span class=" glyphicon glyphicon-search"></span>
                            </button>
                        </span>
                    </div>
				</div>
			</li>
			<li id="searchbox"></li>
		</ul>
	</header>
	<main class="scrolls">
	 	<br>
		<div class="wrapper">
			<h3>Projact Name / Username</h3>
			<div class="content">
			  <!-- Nav tabs -->
			  <ul class="nav nav-tabs" role="tablist">
			    <li role="presentation" class="active"><a href="#home" aria-controls="home" role="tab" data-toggle="tab">Settings</a></li>
			    <li role="presentation"><a href="#project-issues" aria-controls="project-issues" role="tab" data-toggle="tab">Issues</a></li>
			    <li role="presentation"><a href="#project-contributors" aria-controls="project-contributors" role="tab" data-toggle="tab">Contributors</a></li>
			    <li role="presentation"><a href="#project-icq" aria-controls="project-icq" role="tab" data-toggle="tab">ICQ</a></li>
			  </ul>
			  <br>
			  <!-- Tab panes -->
			  <div class="tab-content">
					<!-- Settings-->
				    <div role="tabpanel" class="tab-pane active" id="home">
					   <div class="row">
						  <div class="col-md-2">
							  <!-- Nav tabs -->
							  <ul role="tablist" class="nav nav-pills nav-stacked">
							    <li role="presentation" class="active"><a href="#project-info" aria-controls="project-info" role="tab" data-toggle="tab">Information</a></li>
							    <li role="presentation"><a href="#project-privacy" aria-controls="project-privacy" role="tab" data-toggle="tab">Privacy</a></li>
							  </ul>
						  </div>
						  <div class="col-md-10">
							  <!-- Tab panes -->
							  <div class="tab-content">
							    <div role="tabpanel" class="tab-pane active" id="project-info">
									<form class="form-horizontal">
									  <div class="form-group">
									    <label class="control-label col-sm-2" for="email">Name:</label>
									    <div class="col-sm-10">
									      <input type="email" class="form-control" id="email" placeholder="Enter email">
									    </div>
									  </div>
									  <div class="form-group">
									    <label class="control-label col-sm-2" for="pwd">Description:</label>
									    <div class="col-sm-10"> 
									      <input type="email" class="form-control" id="email" placeholder="Enter email">
									    </div>
									  </div>	
									  <div class="form-group">
									    <label class="control-label col-sm-2" for="pwd">Genre:</label>
									  <div class="col-sm-10"> 
											<select class="form-control">
											  <option>General</option>
											  <option>African</option>
											  <option>Asian - East Asian</option>
											  <option>Asian - South and southeast Asian</option>
											  <option>Avant-garde</option>
											  <option>Blues</option>
											  <option>Caribbean and Caribbean-influenced</option>
											  <option>Comedy</option>
											  <option>Country</option>
											  <option>Easy listening</option>
											  <option>Electronic</option>
											  <option>Folk</option>
											  <option>Hip hop</option>
											  <option>Jazz</option>
											  <option>Latin</option>
											  <option>Pop</option>
											  <option>R&B and soul</option>
											  <option>Rock</option>
											</select>
										</div>
									  </div>				  
									  <div class="form-group"> 
									    <div class="col-sm-offset-2 col-sm-10">
									      <button type="submit" class="btn btn-default">Submit</button>
									    </div>
									  </div>
									</form>
							    </div>
							    <div role="tabpanel" class="tab-pane" id="project-privacy">
									<form class="form-horizontal">
									  <div class="form-group">
									    <label class="control-label col-sm-2" for="pwd">Privacy:</label>
									  <div class="col-sm-10"> 
											<select class="form-control">
											  <option>Private</option>
											  <option>Public</option>
											</select>
										</div>
									  </div>				  
									  <div class="form-group"> 
									    <div class="col-sm-offset-2 col-sm-10">
									      <button type="submit" class="btn btn-default">Submit</button>
									    </div>
									  </div>
									</form>
							    </div>
							  </div>
							</div>
						</div>
				    </div>
				   <!-- Isseues -->
				    <div role="tabpanel" class="tab-pane" id="project-issues">
					   <div class="row">
						  <div class="col-md-2">
							  <!-- Nav tabs -->
							  <ul role="tablist" class="nav nav-pills nav-stacked">
							    <li role="presentation" class="active"><a href="#project-issues-all" aria-controls="project-icq-wanted" role="tab" data-toggle="tab">All Issues</a></li>
							    <li role="presentation"><a href="#project-issues-new" aria-controls="project-issues-new" role="tab" data-toggle="tab">New Issue</a></li>
							  </ul>
						  </div>
						  <div class="col-md-10">
							  <!-- Tab panes -->
							  <div class="tab-content">
							    <div role="tabpanel" class="tab-pane active" id="project-issues-all">
									<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
									  <div class="panel panel-default">
									    <div class="panel-heading" role="tab" id="headingOne">
									      <h4 class="panel-title">
									        <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
									          Collapsible Group Item #1
									        </a>
									      </h4>
									    </div>
									    <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
									      <div class="panel-body">
									        Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
											<br><br>
									        <button type="submit" class="btn btn-success">Close Issue</button>

									      </div>
									    </div>
									  </div>
									  <div class="panel panel-default">
									    <div class="panel-heading" role="tab" id="headingTwo">
									      <h4 class="panel-title">
									        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
									          Collapsible Group Item #2
									        </a>
									      </h4>
									    </div>
									    <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
									      <div class="panel-body">
									        Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
									        <br><br>
									        <button type="submit" class="btn btn-default ">Reopen Issue</button>
									      </div>
									    </div>
									  </div>
									  <div class="panel panel-default">
									    <div class="panel-heading" role="tab" id="headingThree">
									      <h4 class="panel-title">
									        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
									          Collapsible Group Item #3
									        </a>
									      </h4>
									    </div>
									    <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
									      <div class="panel-body">
									        Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
									        <br><br>
									        <button type="submit" class="btn btn-default ">Reopen Issue</button>
									      </div>
									    </div>
									  </div>
									</div>
							    </div>	  						
							    <div role="tabpanel" class="tab-pane" id="project-issues-new">
									<form class="form-horizontal">
									  <div class="form-group">
									    <label class="control-label col-sm-2" for="email">Title:</label>
									    <div class="col-sm-10">
									      <input type="email" class="form-control" id="email" placeholder="Enter title">
									    </div>
									  </div>
									  <div class="form-group">
									    <label class="control-label col-sm-2" for="pwd">Description:</label>
									    <div class="col-sm-10"> 
									      <input type="email" class="form-control" id="email" placeholder="Enter description">
									    </div>
									  </div>	
									  <div class="form-group">
									    <label class="control-label col-sm-2" for="pwd">Instrument:</label>
									  <div class="col-sm-10"> 
											<select class="form-control">
											  <option>Guitar</option>
											  <option>Piano</option>
											</select>
										</div>
									  </div>				  
									  <div class="form-group"> 
									    <div class="col-sm-offset-2 col-sm-10">
									      <button type="submit" class="btn btn-default">Submit</button>
									    </div>
									  </div>
									</form>
							    </div>
							  </div>
							</div>
						</div>
				    </div>
				    <!-- Contributors -->
				    <div role="tabpanel" class="tab-pane" id="project-contributors">
					   <div class="row">
						  <div class="col-md-2">
							  <!-- Nav tabs -->
							  <ul role="tablist" class="nav nav-pills nav-stacked">
							    <li role="presentation" class="active"><a href="#project-contributors-users" aria-controls="project-contributors-users" role="tab" data-toggle="tab">Users </a></li>
							    <li role="presentation"><a href="#project-contributors-invite" aria-controls="project-contributors-invite" role="tab" data-toggle="tab">Invitation </a></li>
							  </ul>
						  </div>
						  <div class="col-md-10">
							  <!-- Tab panes -->
							  <div class="tab-content">
							    <div role="tabpanel" class="tab-pane" id="project-contributors-invite">
									<form class="form-horizontal">
									  <div class="form-group">
									    <label class="control-label col-sm-2" for="email">Title:</label>
									    <div class="col-sm-10">
									      <input type="email" class="form-control" id="email" placeholder="Enter title">
									    </div>
									  </div>
									  <div class="form-group">
									    <label class="control-label col-sm-2" for="pwd">Description:</label>
									    <div class="col-sm-10"> 
									      <input type="email" class="form-control" id="email" placeholder="Enter description">
									    </div>
									  </div>	
									  <div class="form-group">
									    <label class="control-label col-sm-2" for="pwd">Instrument:</label>
									  <div class="col-sm-10"> 
											<select class="form-control">
											  <option>Guitar</option>
											  <option>Piano</option>
											</select>
										</div>
									  </div>				  
									  <div class="form-group"> 
									    <div class="col-sm-offset-2 col-sm-10">
									      <button type="submit" class="btn btn-default">Submit</button>
									    </div>
									  </div>
									</form>
							    </div>
							    <div role="tabpanel" class="tab-pane active" id="project-contributors-users">
									<div class="panel panel-default">
									  <!-- Default panel contents -->
									  <div class="panel-heading">Users</div>
									  <!-- List group -->
									  <ul class="list-group">
									    <li class="list-group-item">
											<div class="row">
								    		  <div class="col-md-9">
												<img src="https://scontent.fsdv1-1.fna.fbcdn.net/v/t1.0-1/c26.7.40.40/p74x74/1374206_10151895529017929_1400551419_n.jpg?oh=c8287829aead4780222e5ed1654df9d2&oe=59A09C9B" alt="..." class="img-circle"> Oran Moshe
								    		  </div>
								    		  <div class="col-md-3">
												<div class="btn-group" role="group" aria-label="...">
												  <button type="button" class="btn btn-primary">Accept</button>
												  <button type="button" class="btn btn-default">Decline</button>
												</div>
								    		  </div>
								    		</div>
									    </li>
									  </ul>
									</div>
							    </div>
							  </div>
							</div>
						</div>
				    </div>
					<!-- ICQ -->
				    <div role="tabpanel" class="tab-pane" id="project-icq">
					   <div class="row">
						  <div class="col-md-2">
							  <!-- Nav tabs -->
							  <ul role="tablist" class="nav nav-pills nav-stacked">
							  	<li role="presentation"  class="active"><a href="#project-icq-new" aria-controls="project-icq-new" role="tab" data-toggle="tab">Post</a></li>
							    <li role="presentation"><a href="#project-icq-all" aria-controls="project-icq-all" role="tab" data-toggle="tab">All posts</a></li>
							    <li role="presentation"><a href="#project-icq-requests" aria-controls="project-icq-requests" role="tab" data-toggle="tab">Requests <span class="badge">1</span></a></li>
							  </ul>
						  </div>
						  <div class="col-md-10">
							  <!-- Tab panes -->
							  <div class="tab-content">
							    <div role="tabpanel" class="tab-pane active" id="project-icq-new">
									<form class="form-horizontal">
									  <div class="form-group">
									    <label class="control-label col-sm-2" for="email">Title:</label>
									    <div class="col-sm-10">
									      <input type="email" class="form-control" id="email" placeholder="Enter title">
									    </div>
									  </div>
									  <div class="form-group">
									    <label class="control-label col-sm-2" for="pwd">Description:</label>
									    <div class="col-sm-10"> 
									      <input type="email" class="form-control" id="email" placeholder="Enter description">
									    </div>
									  </div>	
									  <div class="form-group">
									    <label class="control-label col-sm-2" for="pwd">Instrument:</label>
									  <div class="col-sm-10"> 
											<select class="form-control">
											  <option>Guitar</option>
											  <option>Piano</option>
											</select>
										</div>
									  </div>				  
									  <div class="form-group"> 
									    <div class="col-sm-offset-2 col-sm-10">
									      <button type="submit" class="btn btn-default">Submit</button>
									    </div>
									  </div>
									</form>
							    </div>
							    <div role="tabpanel" class="tab-pane" id="project-icq-requests">
									<div class="panel panel-default">
									  <!-- Default panel contents -->
									  <div class="panel-heading">Interested Users</div>
									  <!-- List group -->
									  <ul class="list-group">
									    <li class="list-group-item">
											<div class="row">
								    		  <div class="col-md-9">								    		 
												<img src="https://scontent.fsdv1-1.fna.fbcdn.net/v/t1.0-1/c26.7.40.40/p74x74/1374206_10151895529017929_1400551419_n.jpg?oh=c8287829aead4780222e5ed1654df9d2&oe=59A09C9B" alt="..." class="img-circle">
												<img src="http://icons.iconarchive.com/icons/flat-icons.com/flat/128/Guitar-icon.png" style="width: 40px; height:40px;margin-left: -20px" alt="..." class="img-circle">
												 Oran Moshe - <i>Hey, can i join you?</i>
												
								    		  </div>
								    		  <div class="col-md-3">
												<div class="btn-group" role="group" aria-label="...">
												  <button type="button" class="btn btn-primary">Accept</button>
												  <button type="button" class="btn btn-default">Decline</button>
												</div>
								    		  </div>
								    		</div>
									    </li>
									  </ul>
									</div>
							    </div>
							    <div role="tabpanel" class="tab-pane" id="project-icq-all">
								    <div class="panel panel-default">
									  <!-- Default panel contents -->
									  <div class="panel-heading">Panel heading</div>
									  <!-- List group -->
									  <ul class="list-group">
									    <li class="list-group-item">
											<div class="row">
								    		  <div class="col-md-9">
												<img src="http://icons.iconarchive.com/icons/flat-icons.com/flat/128/Guitar-icon.png" style="width: 40px; height:40px;" alt="..." class="img-circle"> Looking for guitarist
								    		  </div>
								    		  <div class="col-md-3">
												<div class="btn-group" role="group" aria-label="...">
												  <button type="button" class="btn btn-default disabled">Jump</button>
												  <button type="button" class="btn btn-danger">Delete</button>
												</div>
								    		  </div>
								    		</div>
									    </li>
									  </ul>
									</div>
								</div>
							  </div>
							</div>
						</div>
				    </div>
				</div>
			</div>
		</div>	
	</main>
	<section>
		<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
		  <div class="modal-dialog" role="document">
		    <div class="modal-content">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		        <h4 class="modal-title" id="exampleModalLabel">New Project</h4>
		      </div>
		      <div class="modal-body">
		        <form>
		          <div class="form-group">
		            <label for="recipient-name" class="control-label">Name:</label>
		            <input type="text" class="form-control" id="project-name">
		          </div>
		          <div class="form-group">
		            <label for="recipient-name" class="control-label">Description:</label>
					<textarea class="form-control" rows="2" id="project-description"></textarea>
		          </div>
		          <div class="form-group">
		            <label for="recipient-name" class="control-label" id="project-genre">Genre:</label>
					<select class="form-control">
					  <option>General</option>
					  <option>African</option>
					  <option>Asian - East Asian</option>
					  <option>Asian - South and southeast Asian</option>
					  <option>Avant-garde</option>
					  <option>Blues</option>
					  <option>Caribbean and Caribbean-influenced</option>
					  <option>Comedy</option>
					  <option>Country</option>
					  <option>Easy listening</option>
					  <option>Electronic</option>
					  <option>Folk</option>
					  <option>Hip hop</option>
					  <option>Jazz</option>
					  <option>Latin</option>
					  <option>Pop</option>
					  <option>R&B and soul</option>
					  <option>Rock</option>
					</select>		          
				  </div>
		        </form>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
		        <button type="button" class="btn btn-primary" id="btn-create-project">Create</button>
		      </div>
		    </div>
		  </div>
		</div>
	</section>
	<section>
		<div class="modal fade" id="addIssueModel" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
		  <div class="modal-dialog" role="document">
		    <div class="modal-content">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		        <h4 class="modal-title" id="exampleModalLabel">New Project</h4>
		      </div>
		      <div class="modal-body">
		        <form>
		          <div class="form-group">
		            <label for="recipient-name" class="control-label">Name:</label>
		            <input type="text" class="form-control" id="project-name">
		          </div>
		          <div class="form-group">
		            <label for="recipient-name" class="control-label">Description:</label>
					<textarea class="form-control" rows="2" id="project-description"></textarea>
		          </div>
		          <div class="form-group">
		            <label for="recipient-name" class="control-label" id="project-genre">Genre:</label>
					<select class="form-control">
					  <option>General</option>
					  <option>African</option>
					  <option>Asian - East Asian</option>
					  <option>Asian - South and southeast Asian</option>
					  <option>Avant-garde</option>
					  <option>Blues</option>
					  <option>Caribbean and Caribbean-influenced</option>
					  <option>Comedy</option>
					  <option>Country</option>
					  <option>Easy listening</option>
					  <option>Electronic</option>
					  <option>Folk</option>
					  <option>Hip hop</option>
					  <option>Jazz</option>
					  <option>Latin</option>
					  <option>Pop</option>
					  <option>R&B and soul</option>
					  <option>Rock</option>
					</select>		          
				  </div>
		        </form>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
		        <button type="button" class="btn btn-primary" id="btn-create-project">Create</button>
		      </div>
		    </div>
		  </div>
		</div>
	</section>
	<nav id="mySidenav" class="sidenav">
		<ul>
		  	<li>
		  		<a href="#" id="close_nav" class="closebtn">&times;</a>
		  	</li>
			<li id="nav_settings">
				<a href="#">Settings</a>
			</li>
			<li id="nav_versions">
				<a href="#">Versions</a>
			</li>
			<li id="nav_contributors">
				<a href="#">Contributors</a>
			</li>
			<li id="nav_issues">
				<a href="#">Issues</a>
			</li>
			<li id="nav_exit">
				<a href="#">Exit</a>
			</li>
		</ul>
	</nav>
	<section id="loader">
		<div></div>
	</section>
	<section id="contextmenu"></section>

	<div id="create_project" data-toggle="modal" data-target="#exampleModal"></div>

	<script>

		var ctlAPI = new controllerAPI();
		var ctlUI = new studioUI();
		var ctlUser = new user();
		var projects = {};

		// Init studio
		ctlAPI.getUserInfo(function(result){

			ctlUser.init(result);

			ctlAPI.getProjectList(result._id,function(_result){
				projects = _result.admin.concat(_result.contributor);
			});
			
		});

		function user(){

			user.user = null;
			user.files = null;
			user.sharedFiles = null;

			this.init = function(data){
				user.user = data;
	            $('div.username span:first').text(data.email);
	            $('header #connected_user .user_img').css('background-image','url('+data.picture+')');
			};
		};
		
		function getURLID(){
			return location.href.substr(location.href.lastIndexOf('/') + 1);
		}

		$(document).on('click','#logo',function(e){
			window.location.href = '../dashboard';
		});

		$(document).on('click','#connected_user',function(e){
			switch(e.target.id){
				case 'logout':{
					ctlAPI.logout(function(data){					
						location.reload();					  
					});
					break;
				}
			}
			$('#connected_user_menu').toggle();
		});
		
	</script>

    <script src="http://localhost:3000/static/includes/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</body>
</html>